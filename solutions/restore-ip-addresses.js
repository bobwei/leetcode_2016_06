/* eslint-disable max-len */

const isValidIPNumber = (str) => {
  const n = parseInt(str, 10);
  if (n >= 0 && n <= 255 && !(str.startsWith('0') && str.length > 1)) {
    return true;
  }
  return false;
};

const restoreIpAddresses = (str) => {
  const strArr = str.split('');
  let i = 1;
  let j = 2;
  let k = 3;
  const output = new Set();
  while (i <= str.length - 3) {
    j = i + 1;
    while (j <= str.length - 2) {
      k = j + 1;
      while (k <= str.length - 1) {
        const ip = [
          strArr.slice(0, i),
          strArr.slice(i, j),
          strArr.slice(j, k),
          strArr.slice(k),
        ].map(s => s.join(''));
        if (ip.every(isValidIPNumber)) {
          output.add(ip.join('.'));
        }
        k += 1;
        if (k - j > 3) {
          break;
        }
      }
      j += 1;
      if (j - i > 3) {
        break;
      }
    }
    i += 1;
    if (i - 0 > 3) {
      break;
    }
  }
  return [...output];
};

console.log(restoreIpAddresses('25525511135'));
console.log(restoreIpAddresses('0000'));
console.log(restoreIpAddresses('111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111'));
console.log(restoreIpAddresses('010010'));
